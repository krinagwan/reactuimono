name : demo 
on: workflow_dispatch

env:
  NAME: krishan devops
  
jobs:
  Buildjob:
    name: Buildjob
    runs-on: ubuntu-latest
    
    steps:
    - name: print the env name
      run: |
        echo $NAME
        
    - name: Checkout
      uses: actions/checkout@v6.0.1
      
    - name: Setup NodeJS environment with a Cache
  # You may pin to the exact commit or the version.
  # uses: gacts/setup-node-with-cache@624bb72adfed6b190561a8544d80f789135e462d
      uses: gacts/setup-node-with-cache@v1.2.2
      with:
        # The Node version to download (if necessary) and use. Supports semver spec and ranges
        node-version: 16.x
        
    - name: Build dependency
      working-directory: ${{ github.workspace }}   # âœ” this is repo root
      run: |
        npm install
        CI=false npm run build  # prevents warnings-as-error locally

    - name: Upload a Build Artifact
      uses: actions/upload-artifact@v6.0.0
      with:
        # Artifact name
        name: artifactreact
        path: build/

  Deployjob:
    name: Deployjob
    runs-on: ubuntu-latest
    
    steps:
    - name: Download a Build Artifact
      uses: actions/download-artifact@v7.0.0
      with:
        # Name of the artifact to download. If unspecified, all artifacts for the run are downloaded.
        name: artifactreact
      
        path: downloaded_build/     
